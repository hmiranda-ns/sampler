!function(e,t){var o=t.module("ng-auth.strategies.google",["ng-auth","ng-auth.constants","ng-auth.strategies.oauth2"]);o.config(["$$oauth2Provider","authProvider","REQUIRED",function(e,o){o.registerStrategy("google",function(o,n){var r={requestConfig:function(e){return{params:{access_token:e}}},authorizeUri:"https://accounts.google.com/o/oauth2/auth",afterAuth:["$q","$http",function(e,t){return function(n){var r=e.defer();return t.get("https://www.googleapis.com/oauth2/v1/tokeninfo",{params:{access_token:n.access_token}}).success(function(e){e.audience==o.clientId?r.resolve(n):r.reject({message:"Google OAuth failure: tokeninfo audience does not match clientId"})}).error(function(e,t,o,n){r.reject({message:"Google OAuth failure: tokeninfo response error",tokenInfoData:e,status:t,headers:o,config:n})}),r.promise}}]};return new e(t.extend(o,r),n)})}])}(window,window.angular);