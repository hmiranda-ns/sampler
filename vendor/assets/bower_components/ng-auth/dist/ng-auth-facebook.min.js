!function(e,t){var o=t.module("ng-auth.strategies.facebook",["ng-auth","ng-auth.constants","ng-auth.strategies.oauth2"]);o.config(["$$oauth2Provider","authProvider","REQUIRED",function(e,o){o.registerStrategy("facebook",function(o,n){var a={requestConfig:function(e){return{params:{access_token:e}}},popup:{width:445,height:376,resizable:!1,scrollbars:!1,status:!0},authorizeUri:"https://www.facebook.com/dialog/oauth",scope:function(e){return e.join(",")},afterAuth:["$q","$http",function(e,t){return function(n){var a=e.defer();return t.get("https://graph.facebook.com/debug_token",{params:{input_token:n.access_token,access_token:n.access_token}}).success(function(e){e.data.app_id==o.clientId?a.resolve(n):a.reject({message:"Facebook OAuth failure: token app_id does not match config.clientId"})}).error(function(e,t,o,n){a.reject({message:"Facebook OAuth failure: token inspection response error",tokenInfoData:e,status:t,headers:o,config:n})}),a.promise}}]};return new e(t.extend(o,a),n)})}])}(window,window.angular);