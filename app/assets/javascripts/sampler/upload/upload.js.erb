//= depend_on_asset "upload/upload.html"
"use strict";
angular
  .module('sampler.upload', [
    'ui.router',
    'flow'
  ])
  .config(function($stateProvider) {
   $stateProvider
      .state({
        name: "root.upload",
        url: "/upload",
        templateUrl: "<%= asset_path('upload/upload.html') %>",
        controller: 'sampler.upload'
      });
  })
  .controller(
    'sampler.upload',
    function(
      $state,
      $scope,
      Server,
      Authentication) {
      $scope.base_url = Server.get() + '/api/upload';
      console.log($scope.base_url);

      $scope.flow_setup = function() {
        return {
          target: $scope.base_url,
          withCredentials: true
        };
      };
    });
